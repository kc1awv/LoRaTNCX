<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>LoRaTNCX Control Center</title><link href="font-awesome.min.css" rel="stylesheet"><link href="tippy-light-theme.css" rel="stylesheet"><script src="popper.min.js"></script><script src="tippy-bundle.umd.js"></script><link href="style.min.css" rel="stylesheet"></head><body><div class="loading-overlay" id="loadingOverlay"><div class="loading-spinner"></div><div class="loading-content"><div class="loading-title">LoRaTNCX</div><div class="loading-subtitle">Initializing Control Center...</div></div></div><div class="container"><div class="header"><h1><i class="fas fa-satellite"></i> LoRaTNCX Control Center</h1><div class="status-grid" id="statusGrid"><div class="status-card"><div class="status-icon neutral" id="boardIcon"><i class="fas fa-microchip"></i></div><div class="status-content"><h3>Board</h3><div class="value" id="boardName">Loading...</div></div></div><div class="status-card"><div class="status-icon offline" id="wifiIcon"><i class="fas fa-wifi"></i></div><div class="status-content"><h3>WiFi Status</h3><div class="value" id="wifiStatus">Checking...</div></div></div><div class="status-card"><div class="status-icon neutral" id="ipIcon"><i class="fas fa-network-wired"></i></div><div class="status-content"><h3>IP Address</h3><div class="value" id="ipAddress">-</div></div></div><div class="status-card"><div class="status-icon neutral" id="batteryIcon"><i class="fas fa-battery-half"></i></div><div class="status-content"><h3>Battery</h3><div class="value" id="battery">-</div></div></div><div class="status-card"><div class="status-icon neutral" id="uptimeIcon"><i class="fas fa-clock"></i></div><div class="status-content"><h3>Uptime</h3><div class="value" id="uptime">-</div></div></div></div></div><div class="nav-container"><div class="nav-tabs"><button class="nav-tab active" onclick='switchTab("lora")'><i class="fas fa-broadcast-tower"></i> LoRa Radio</button> <button class="nav-tab" onclick='switchTab("wifi")'><i class="fas fa-wifi"></i> Network</button> <button class="nav-tab" onclick='switchTab("gnss")'><i class="fas fa-satellite"></i> GNSS</button> <button class="nav-tab" onclick='switchTab("system")'><i class="fas fa-cogs"></i> System</button></div></div><div class="auto-refresh-toggle"><input type="checkbox" id="autoRefresh" checked="checked" onchange="toggleAutoRefresh()"> <label for="autoRefresh">Auto-refresh status every 5 seconds</label></div><div class="content-section active" id="lora-tab"><div class="section-header"><i class="fas fa-broadcast-tower"></i><h2>LoRa Radio Configuration</h2></div><div class="alert alert-success" id="lora-alert-success"></div><div class="alert alert-error" id="lora-alert-error"></div><div class="form-grid"><div class="form-group"><label for="frequency"><i class="fas fa-wave-square"></i> Frequency (MHz) <i class="fas fa-info-circle tooltip-trigger" data-tippy-content="Operating frequency for LoRa communication. Must match your region's regulations."></i></label> <input type="number" id="frequency" step="0.1" min="150" max="960"><div class="help-text">Valid range: 150-960 MHz</div><div class="validation-message" id="frequency-validation"></div></div><div class="form-group"><label for="bandwidth"><i class="fas fa-arrows-alt-h"></i> Bandwidth (kHz) <i class="fas fa-info-circle tooltip-trigger" data-tippy-content="Signal bandwidth. Lower values = longer range but slower data rate."></i></label> <select id="bandwidth"><option value="125">125 kHz</option><option value="250">250 kHz</option><option value="500">500 kHz</option></select></div><div class="form-group"><label for="spreading"><i class="fas fa-chart-line"></i> Spreading Factor <i class="fas fa-info-circle tooltip-trigger" data-tippy-content="Higher values = longer range but slower speed. SF7-SF12 available."></i></label> <select id="spreading"><option value="7">SF7 (Fastest)</option><option value="8">SF8</option><option value="9">SF9</option><option value="10">SF10</option><option value="11">SF11</option><option value="12">SF12 (Longest Range)</option></select></div><div class="form-group"><label for="codingRate"><i class="fas fa-shield-alt"></i> Coding Rate <i class="fas fa-info-circle tooltip-trigger" data-tippy-content="Error correction strength. Higher values = better reliability but slower speed."></i></label> <select id="codingRate"><option value="5">4/5 (Fast)</option><option value="6">4/6</option><option value="7">4/7</option><option value="8">4/8 (Robust)</option></select></div><div class="form-group"><label for="power"><i class="fas fa-bolt"></i> TX Power (dBm) <i class="fas fa-info-circle tooltip-trigger" data-tippy-content="Transmission power. Higher values = longer range but more power consumption."></i></label> <input type="number" id="power" min="-9" max="22"><div class="help-text" id="power-range">Valid range: -9 to 22 dBm</div><div class="validation-message" id="power-validation"></div></div><div class="form-group"><label for="syncWord"><i class="fas fa-key"></i> Sync Word (Hex) <i class="fas fa-info-circle tooltip-trigger" data-tippy-content="Network identifier. Devices must use the same sync word to communicate."></i></label> <input id="syncWord" placeholder="0x1424"><div class="help-text">2-byte hex value (e.g., 0x1424)</div><div class="validation-message" id="syncWord-validation"></div></div></div><div class="button-group"><button class="btn btn-primary" onclick="applyLoRaConfig()" id="applyLoRaBtn"><i class="fas fa-play"></i> Apply Configuration</button> <button class="btn btn-primary" onclick="saveLoRaConfig()" id="saveLoRaBtn"><i class="fas fa-save"></i> Save to Flash</button> <button class="btn btn-secondary" onclick="loadLoRaConfig()" id="loadLoRaBtn"><i class="fas fa-sync"></i> Reload</button> <button class="btn btn-danger" onclick="resetLoRaConfig()" id="resetLoRaBtn"><i class="fas fa-undo"></i> Reset to Defaults</button></div><div class="progress-bar" id="loraProgress"><div class="progress-fill"></div></div></div><div class="content-section" id="wifi-tab"><div class="section-header"><i class="fas fa-wifi"></i><h2>Network Configuration</h2></div><div class="alert alert-success" id="wifi-alert-success"></div><div class="alert alert-error" id="wifi-alert-error"></div><div class="form-group"><label for="wifiMode"><i class="fas fa-toggle-on"></i> WiFi Mode</label> <select id="wifiMode" onchange="updateWiFiModeUI()"><option value="0">Off</option><option value="1">Access Point Only</option><option value="2">Station Only (Client)</option><option value="3">AP + Station</option></select></div><div id="ap-config" style="display:none"><h3 style="color:var(--accent);margin:24px 0 16px 0"><i class="fas fa-router"></i> Access Point Settings</h3><div class="form-grid"><div class="form-group"><label for="apSsid"><i class="fas fa-wifi"></i> AP Network Name</label> <input id="apSsid" maxlength="31"></div><div class="form-group"><label for="apPassword"><i class="fas fa-lock"></i> AP Password</label> <input type="password" id="apPassword" maxlength="63"><div class="help-text">Leave empty for open network (not recommended)</div></div></div></div><div id="sta-config" style="display:none"><h3 style="color:var(--accent);margin:24px 0 16px 0"><i class="fas fa-house-signal"></i> Station Settings</h3><div class="form-group"><label for="staSsid"><i class="fas fa-search"></i> Network Name (SSID)</label><div class="ssid-input-group"><input id="staSsid" maxlength="31"> <button class="btn btn-secondary" onclick="scanWiFi()"><i class="fas fa-search"></i> Scan</button></div></div><div id="networkList" class="network-scanner" style="display:none"><div class="network-search"><input id="networkSearch" placeholder="Search networks..." onkeyup="filterNetworks()"></div><div class="network-list" id="networkListContent"></div></div><div class="form-group"><label for="staPassword"><i class="fas fa-key"></i> Network Password</label> <input type="password" id="staPassword" maxlength="63"></div><div class="checkbox-group"><input type="checkbox" id="dhcp" checked="checked" onchange="updateDHCPUI()"> <label for="dhcp">Use DHCP (Automatic IP)</label></div><div id="static-ip-config" style="display:none"><h4 style="color:var(--accent);margin:24px 0 16px 0"><i class="fas fa-network-wired"></i> Static IP Configuration</h4><div class="form-grid"><div class="form-group"><label for="staticIp"><i class="fas fa-map-marker-alt"></i> IP Address</label> <input id="staticIp" placeholder="192.168.1.100"></div><div class="form-group"><label for="gateway"><i class="fas fa-route"></i> Gateway</label> <input id="gateway" placeholder="192.168.1.1"></div><div class="form-group"><label for="subnet"><i class="fas fa-mask"></i> Subnet Mask</label> <input id="subnet" placeholder="255.255.255.0"></div><div class="form-group"><label for="dns"><i class="fas fa-server"></i> DNS Server</label> <input id="dns" placeholder="8.8.8.8"></div></div></div></div><h3 style="color:var(--accent);margin:32px 0 16px 0"><i class="fas fa-plug"></i> TCP KISS Server</h3><div class="checkbox-group"><input type="checkbox" id="tcpKissEnabled" checked="checked"> <label for="tcpKissEnabled">Enable TCP KISS Server</label><div class="help-text" style="margin-left:32px">Allow network clients to connect to the TNC via TCP/IP</div></div><div class="form-group" style="margin-top:16px"><label for="tcpKissPort"><i class="fas fa-portrait"></i> TCP KISS Port</label> <input type="number" id="tcpKissPort" min="1" max="65535" value="8001"><div class="help-text">Default: 8001</div></div><div class="button-group"><button class="btn btn-primary" onclick="applyWiFiConfig()" id="applyWiFiBtn"><i class="fas fa-play"></i> Apply Configuration</button> <button class="btn btn-primary" onclick="saveWiFiConfig()" id="saveWiFiBtn"><i class="fas fa-save"></i> Save to Flash</button> <button class="btn btn-secondary" onclick="loadWiFiConfig()" id="loadWiFiBtn"><i class="fas fa-sync"></i> Reload</button></div><div class="progress-bar" id="wifiProgress"><div class="progress-fill"></div></div></div><div class="content-section" id="gnss-tab"><div class="section-header"><i class="fas fa-satellite"></i><h2>GNSS Configuration</h2></div><div class="alert alert-success" id="gnss-alert-success"></div><div class="alert alert-error" id="gnss-alert-error"></div><div id="gnss-unavailable" style="display:none"><div class="info-card"><p><strong><i class="fas fa-info-circle"></i> GNSS Not Available</strong></p><p>This board does not have a built-in GNSS port. For V3 boards, you can connect an external GNSS module and configure the pins below.</p></div></div><div class="form-grid"><div class="checkbox-group" style="grid-column:span 2"><input type="checkbox" id="gnssEnabled"> <label for="gnssEnabled">Enable GNSS Module</label></div><div class="checkbox-group" style="grid-column:span 2"><input type="checkbox" id="gnssSerialPassthrough"> <label for="gnssSerialPassthrough">Serial Passthrough</label><div class="help-text" style="margin-left:32px">Forward NMEA sentences to USB serial port</div></div><div class="form-group"><label for="gnssTcpPort"><i class="fas fa-server"></i> NMEA TCP Port</label> <input type="number" id="gnssTcpPort" min="1" max="65535" value="10110"><div class="help-text">Standard NMEA-over-TCP port: 10110</div></div><div class="form-group"><label for="gnssBaudRate"><i class="fas fa-tachometer-alt"></i> Baud Rate</label> <select id="gnssBaudRate"><option value="4800">4800</option><option value="9600">9600</option><option value="19200">19200</option><option value="38400">38400</option><option value="57600">57600</option><option value="115200">115200</option></select><div class="help-text">Most GNSS modules use 9600</div></div></div><div id="gnss-pin-config" style="display:none"><h3 style="color:var(--accent);margin:32px 0 16px 0"><i class="fas fa-cogs"></i> External Module Pin Configuration</h3><p style="color:var(--text-secondary);margin-bottom:16px"><small>Configure GPIO pins for external GNSS module. Set to -1 to disable unused pins.</small></p><div class="form-grid"><div class="form-group"><label for="gnssPinRX"><i class="fas fa-arrow-left"></i> RX Pin (MCU ← GNSS)</label> <input type="number" id="gnssPinRX" min="-1" max="48" value="-1"></div><div class="form-group"><label for="gnssPinTX"><i class="fas fa-arrow-right"></i> TX Pin (MCU → GNSS)</label> <input type="number" id="gnssPinTX" min="-1" max="48" value="-1"></div><div class="form-group"><label for="gnssPinCtrl"><i class="fas fa-power-off"></i> Control Pin (Power)</label> <input type="number" id="gnssPinCtrl" min="-1" max="48" value="-1"></div><div class="form-group"><label for="gnssPinWake"><i class="fas fa-bell"></i> Wake Pin</label> <input type="number" id="gnssPinWake" min="-1" max="48" value="-1"></div><div class="form-group"><label for="gnssPinPPS"><i class="fas fa-clock"></i> PPS Pin (Pulse Per Second)</label> <input type="number" id="gnssPinPPS" min="-1" max="48" value="-1"></div><div class="form-group"><label for="gnssPinRST"><i class="fas fa-redo"></i> Reset Pin</label> <input type="number" id="gnssPinRST" min="-1" max="48" value="-1"></div></div></div><h3 style="color:var(--accent);margin:32px 0 16px 0"><i class="fas fa-map-marker-alt"></i> GNSS Status</h3><div class="info-grid" id="gnss-status-grid"><div class="info-card"><h4><i class="fas fa-crosshairs"></i> GPS Fix</h4><div class="info-item"><span class="label">Status:</span> <span class="value" id="gnss-fix-status">-</span></div><div class="info-item"><span class="label">Satellites:</span> <span class="value" id="gnss-satellites">-</span></div><div class="info-item"><span class="label">HDOP:</span> <span class="value" id="gnss-hdop">-</span></div></div><div class="info-card"><h4><i class="fas fa-globe"></i> Position</h4><div class="info-item"><span class="label">Latitude:</span> <span class="value" id="gnss-lat">-</span></div><div class="info-item"><span class="label">Longitude:</span> <span class="value" id="gnss-lon">-</span></div><div class="info-item"><span class="label">Altitude:</span> <span class="value" id="gnss-alt">-</span></div></div><div class="info-card"><h4><i class="fas fa-network-wired"></i> NMEA Server</h4><div class="info-item"><span class="label">Status:</span> <span class="value" id="gnss-nmea-status">-</span></div><div class="info-item"><span class="label">Port:</span> <span class="value" id="gnss-nmea-port">-</span></div><div class="info-item"><span class="label">Clients:</span> <span class="value" id="gnss-nmea-clients">-</span></div></div></div><div class="button-group"><button class="btn btn-primary" onclick="applyGNSSConfig()" id="applyGNSSBtn"><i class="fas fa-play"></i> Apply Configuration</button> <button class="btn btn-primary" onclick="saveGNSSConfig()" id="saveGNSSBtn"><i class="fas fa-save"></i> Save to Flash</button> <button class="btn btn-secondary" onclick="loadGNSSConfig()" id="loadGNSSBtn"><i class="fas fa-sync"></i> Reload</button></div><div class="progress-bar" id="gnssProgress"><div class="progress-fill"></div></div></div><div class="content-section" id="system-tab"><div class="section-header"><i class="fas fa-cogs"></i><h2>System Information</h2></div><div class="info-grid"><div class="info-card"><h4><i class="fas fa-microchip"></i> Board Information</h4><div class="info-item"><span class="label">Board Name:</span> <span class="value" id="sys-board-name">-</span></div><div class="info-item"><span class="label">Board Type:</span> <span class="value" id="sys-board-type">-</span></div></div><div class="info-card"><h4><i class="fas fa-memory"></i> Chip Information</h4><div class="info-item"><span class="label">Model:</span> <span class="value" id="sys-chip-model">-</span></div><div class="info-item"><span class="label">Revision:</span> <span class="value" id="sys-chip-revision">-</span></div><div class="info-item"><span class="label">Cores:</span> <span class="value" id="sys-chip-cores">-</span></div><div class="info-item"><span class="label">Frequency:</span> <span class="value" id="sys-chip-freq">-</span></div></div><div class="info-card"><h4><i class="fas fa-hdd"></i> Memory Information</h4><div class="info-item"><span class="label">Flash Size:</span> <span class="value" id="sys-flash-size">-</span></div><div class="info-item"><span class="label">Free Heap:</span> <span class="value" id="sys-free-heap">-</span></div><div class="info-item"><span class="label">Heap Size:</span> <span class="value" id="sys-heap-size">-</span></div></div><div class="info-card"><h4><i class="fas fa-broadcast-tower"></i> Current LoRa Config</h4><div class="info-item"><span class="label">Frequency:</span> <span class="value" id="sys-lora-freq">-</span></div><div class="info-item"><span class="label">Bandwidth:</span> <span class="value" id="sys-lora-bw">-</span></div><div class="info-item"><span class="label">Spreading:</span> <span class="value" id="sys-lora-sf">-</span></div><div class="info-item"><span class="label">Power:</span> <span class="value" id="sys-lora-pwr">-</span></div></div></div><div class="button-group"><button class="btn btn-secondary" onclick="loadSystemInfo()" id="refreshSystemBtn"><i class="fas fa-sync"></i> Refresh</button> <button class="btn btn-danger" onclick="rebootDevice()" id="rebootBtn"><i class="fas fa-power-off"></i> Reboot Device</button></div><div class="progress-bar" id="systemProgress"><div class="progress-fill"></div></div></div></div><button class="floating-action-btn" onclick="toggleKeyboardShortcuts()" title="Keyboard Shortcuts"><i class="fas fa-keyboard"></i></button><div class="keyboard-shortcuts" id="keyboardShortcuts"><h4><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h4><div class="shortcut"><span>Switch to LoRa tab</span> <span class="key">1</span></div><div class="shortcut"><span>Switch to Network tab</span> <span class="key">2</span></div><div class="shortcut"><span>Switch to GNSS tab</span> <span class="key">3</span></div><div class="shortcut"><span>Switch to System tab</span> <span class="key">4</span></div><div class="shortcut"><span>Refresh current tab</span> <span class="key">R</span></div><div class="shortcut"><span>Toggle auto-refresh</span> <span class="key">A</span></div><div class="shortcut"><span>Show/hide shortcuts</span> <span class="key">?</span></div></div><div class="confirmation-dialog" id="confirmationDialog"><div class="confirmation-content"><h3 id="confirmationTitle">Confirm Action</h3><p id="confirmationMessage">Are you sure you want to proceed?</p><div class="confirmation-actions"><button class="btn btn-secondary" onclick="closeConfirmation()">Cancel</button> <button class="btn btn-danger" id="confirmationConfirm">Confirm</button></div></div></div><div class="toast-container" id="toastContainer"></div><script src="script.min.js"></script></body></html>