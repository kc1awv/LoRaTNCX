[env]
platform = espressif32
framework = arduino
board_build.variants_dir = variants
monitor_speed = 115200
lib_deps = 
    RadioLib@^7.4.0
    olikraus/U8g2@^2.35.30
    mathieucarbou/ESPAsyncWebServer@^3.6.0
    bblanchon/ArduinoJson@^7.0.0
build_flags = 
    -DCONFIG_TASK_WDT_TIMEOUT_S=30
    -DCONFIG_TASK_WDT_CHECK_IDLE_TASK_CPU0=0
    -DCONFIG_TASK_WDT_CHECK_IDLE_TASK_CPU1=0

[env:heltec_wifi_lora_32_V3]
board = heltec_wifi_lora_32_V3
board_build.filesystem = spiffs
build_flags = 
    ${env.build_flags}
    -DARDUINO_HELTEC_WIFI_LORA_32_V3

; ==================================================================================
; For ORIGINAL V3 boards (pre-V3.2) with inverted battery voltage control logic
; ==================================================================================
; If you have an original V3 board (before V3.2 revision), the battery voltage
; reading will be incorrect due to hardware changes in V3.2.
; 
; To fix this:
; 1. Comment out the [env:heltec_wifi_lora_32_V3] section above
; 2. Uncomment the section below
; 3. Build and upload
;
; [env:heltec_wifi_lora_32_V3]
; board = heltec_wifi_lora_32_V3
; board_build.filesystem = spiffs
; build_flags = 
;     -DARDUINO_HELTEC_WIFI_LORA_32_V3
;     -DV3_ORIGINAL_BATTERY_LOGIC
; ==================================================================================

[env:heltec_wifi_lora_32_V4]
board = heltec_wifi_lora_32_V4
board_build.filesystem = spiffs
build_flags = 
    ${env.build_flags}
    -DARDUINO_HELTEC_WIFI_LORA_32_V4
